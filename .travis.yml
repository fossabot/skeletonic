sudo: false
language: node_js
node_js:
- 6
before_script:
- npm install -g gulp
script: gulp
notifications:
  email: false
after_success:
- export GIT_TAG=build-$TRAVIS_BRANCH-$(date -u "+%Y-%m-%d")-$TRAVIS_BUILD_NUMBER
- echo -n $GIT_TAG > v0.1.$TRAVIS_BUILD_NUMBER
- git commit -m "Set build VERSION number to v1.0."$TRAVIS_BUILD_NUMBER
- git tag $GIT_TAG -a -m "Generated tag from TravisCI build $TRAVIS_BUILD_NUMBER"
- git push --quiet https://$GITHUBKEY@github.com/reedia/skeletonic $GIT_TAG > /dev/null
  2>&1
- echo "${TRAVIS_BRANCH}"
- echo "${TRAVIS_PULL_REQUEST}"
- echo "${TRAVIS_SECURE_ENV_VARS}"
- echo "${TRAVIS_COMMIT}"
- echo ${TRAVIS_BUILD_NUMBER}
- echo ${TRAVIS_REPO_SLUG}
- echo ${GIT_TAG}
before_deploy:
- echo 'Ready to deploy Skeletonic v1.0.$TRAVIS_BUILD_NUMBER'
deploy:
  provider: releases
  api_key:
    secure: cpUkxouSnQCXtLyFlrPKg1EDRCcI9VoTeVvNK6NlWUS+KOQcdXOc4sWy032ZUK4XbBV2k4AVczHoz1k7UaOJKxOLy6RqeYwiIabJBzck+kWD+6u4tD6ynEfxwSKXBJbIZBn0QCHhHPSsQ5vHSPJTdRw4EqUI3ufe1RPPuTnJMnG/afKQhXRgaXNS6lhqudzXZrMHRonnA2wkF7Yyx0ha+G3c5Eh7WnFduOW+3nPuog4S+641pqCIawal7W4QU+Y60KCKDjKgaAMhs0E0hEr/lmejNlLvCELMIxWashxD7670uqnC6sAJTMfCjnnNv3/2Qx/kaOWNkuIItpkzlVtR+0q3yCYDnd1uKC32xicalt6rPEET5rzLeV8Tc69HOUuVarPnRvSmRPA7gsXBJq629x5P4X8lPXS0WFUitTzEJt+Os1fmEX60ieyGcV6wHhRTFFxg4yzN5IHxDI15FYpY4JMfbq9TNAZ9OzvFvIaprPg8T+WHWEBr0AChL1LVEo99k+6rcYqbdAEncESgXJ13k+IZqZkXnj+iwcoiRoSV8YaAY9VZ1DOLpfsJex3rG3Mqh1sxFNFPMlGGj8J67U0MmOGtS4O5oRPTmoseUkpUvRpBxVbMSkowvSs/JhMd0SMmPrDD2SXZPp/5ShsasJR0nOJnW9+LnrHuJNFPPBWhG5o=
  file: dist/*
  name: Skeletonic v1.0.$TRAVIS_BUILD_NUMBER
  body: "<strong>Change Log:</strong><br />Release created on $(date +'%d/%m/%Y')
    at $(date +'%T')<br />A sleek, lightweight, intuitive and ultra-responsive CSS
    framework. Designed to fit your web life."  
  on:
    repo: reedia/skeletonic
