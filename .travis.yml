sudo: false
language: node_js
node_js:
- 6
before_script:
- npm install -g gulp
script: gulp
notifications:
  email: false
after_success:
- export GIT_TAG=v1.0.$TRAVIS_BUILD_NUMBER
- echo -n $GIT_TAG > v0.1.$TRAVIS_BUILD_NUMBER
- git commit -m "Set build VERSION number to "$GIT_TAG
- git tag $GIT_TAG -a -m "Generated tag from TravisCI build $TRAVIS_BUILD_NUMBER"
- git push --quiet https://$GITHUBKEY@github.com/reedia/skeletonic $GIT_TAG > /dev/null
  2>&1
- echo "${TRAVIS_BRANCH}"
- echo "${TRAVIS_PULL_REQUEST}"
- echo "${TRAVIS_SECURE_ENV_VARS}"
- echo "${TRAVIS_COMMIT}"
- echo ${TRAVIS_BUILD_NUMBER}
- echo ${TRAVIS_REPO_SLUG}
- echo ${GIT_TAG}
before_deploy:
- echo 'Ready to deploy Skeletonic $GIT_TAG'
deploy:
  provider: releases
  api_key:
    secure: Q6Zjt3XNTr0n7RmA666M5UpMol6Ha6kDy/4oZAu4OlMWZiF/Gu1Vb76ior6Sgcpv/zhL+HziUzLCIUHpbRa/NFh+7xR0YOZrAd/OINM33HqIl1GILbsH3a3zAMTBwDYjp9aapc50T1dOZfvfmUu5PyHzmIvT5bTR/0/86U2tpEiJVUwCbKUjIK7SNxqld5CBrSJLAXbgM6ZDzYufX3g3hCsQaiDOVio+OU4SHE9cDpFlWfGvMY4xc/ME0B3JBgehrP0At+pLZLW9Y0Ky/YDqK+zq75ailbXwHk6sqHUUq2BgFO4owYHUwENJsppl6Fe0S2Z6DzPfC811gKk6IXQoFf/kFlUAbLLsLDXNpTG2TCigpVkXTR2uMmw5NPhkxFkga5eFVojxrVF/Yyr/TpTu2SiNnIh5Rldfxz6oubeVPV1pwMN5Clt9awEZYlAaIZehQ4BZ3bR8/+GIfMdmCxiYo3Bo2JsWlUIJGIykvHbAPsvUI0U0dVS+szfimLL7x7CrkooXbUASffyxdkwvT+cnecOKrcSHQRy8CYW+bms36LLvOjO6qa/7fuPBxLxaJPqiTjHjIpeBE8F+ckUsih/ekpR5EVKQRgvwCA0wWve4rRwWvTh5SahqSHiyeNhmDtLzRn+Xa1a6rF+HWierCs8MasiJihGN7ypc+crTDG084Zo=
  file_glob: true
  file: dist/*
  skip_cleanup: true
  name: Skeletonic $GIT_TAG
  body: "<strong>Change Log:</strong><br />Release $GIT_TAG created on $(date +'%d/%m/%Y')
    at $(date +'%T')<br />A sleek, lightweight, intuitive and ultra-responsive CSS
    framework. Designed to fit your web life."
  on:
    repo: reedia/skeletonic
before_install:
- openssl aes-256-cbc -K $encrypted_0da74458a2a7_key -iv $encrypted_0da74458a2a7_iv
  -in id_rsa.pub.enc -out id_rsa.pub -d
