sudo: false
language: node_js
node_js:
- 6
before_script:
- npm install -g gulp
script: gulp
notifications:
  email: false
after_success:
- export GIT_TAG=build-$TRAVIS_BRANCH-$(date -u "+%Y-%m-%d")-$TRAVIS_BUILD_NUMBER
- echo -n $GIT_TAG > v0.1.$TRAVIS_BUILD_NUMBER
- git commit -m "Set build VERSION number to v1.0."$TRAVIS_BUILD_NUMBER
- git tag $GIT_TAG -a -m "Generated tag from TravisCI build $TRAVIS_BUILD_NUMBER"
- git push --quiet https://$GITHUBKEY@github.com/reedia/skeletonic $GIT_TAG > /dev/null
  2>&1
- echo "${TRAVIS_BRANCH}"
- echo "${TRAVIS_PULL_REQUEST}"
- echo "${TRAVIS_SECURE_ENV_VARS}"
- echo "${TRAVIS_COMMIT}"
- echo ${TRAVIS_BUILD_NUMBER}
- echo ${TRAVIS_REPO_SLUG}
- echo ${GIT_TAG}
before_deploy:
- echo 'Ready to deploy Skeletonic v1.0.$TRAVIS_BUILD_NUMBER'
deploy:
  provider: releases
  file_glob: true
  skip-cleanup: true
  keep-history: true
  file: dist/*
  name: Skeletonic v1.0.$TRAVIS_BUILD_NUMBER
  body: "<strong>Change Log:</strong><br />Release created on $(date +'%d/%m/%Y')
    at $(date +'%T')<br />A sleek, lightweight, intuitive and ultra-responsive CSS
    framework. Designed to fit your web life."
  on:
    repo: reedia/skeletonic
  api-key:
    secure: S8w7Lo5eScTPQAzObBIsuHd7rFJT+k1MHrIlE2or7gDpk+X5wd/eBtwFY1avfuJdGF2E+qOfe6uATBYKXERRgwJ8wkmp+zIDhooeuwgj0I8V8TZgwr9j9oFZFOV8lQyHl8N8cR7Vjyn3ScDxiu3ucGgqdLuWPFvzFV7NpLIGlDxzORos6u0HIMlydiVcimO3JRX7gkKwCsTrh5R6byN37bf7AUwwabN1qtoiAqEx9vGswkIXxuZLIOxh8zGO84lq51PV8otkPk5WsBWfvQ4jqufXOCxfBZP39V42jKkER+JMIhtjXxSMAVFTAEMo7sUY9mFs8LCd/0Avyu7z/U8PVjStowwSN1+XRo1vUtXZBe4OmuZTqp+1v8xDOIDlbJZwHIP+NZHH/S6ixNLFN7w40xPmB0svpnQ/wW1R7i3EHBKkU/qpdJ5G96m4Dzv1lYghMA+QK15YU8Fx0noYNce2pF0M2jNCdZ0vlUgBGV/3+rczGIhmluQGBRYPpyVUF0XwgjnUxDlK7/cAvXM6x1CyKdkjfgF1jtQQ0gxsKm27PudgeXY0BtD687BucT5z6I0XxgHiuB9UHcPtZy4dapZx2jjymwxHTfoWIyQfBV7S2VFWXoz4y+ntriMUY64mF89zY34wy4WtBuanRG7tingpfwGCa+4OY4pvAPvk2jZLkSw=
